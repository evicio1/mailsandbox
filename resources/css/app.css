@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --sidebar-width: 260px;
        --topbar-height: 60px;
    }

    * {
        @apply transition-colors duration-150;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        @apply bg-surface-900 text-slate-100 antialiased;
        font-feature-settings: "cv11", "ss01";
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }
    ::-webkit-scrollbar-track {
        @apply bg-surface-800;
    }
    ::-webkit-scrollbar-thumb {
        @apply bg-surface-600 rounded-full;
    }
    ::-webkit-scrollbar-thumb:hover {
        @apply bg-surface-500;
    }
}

@layer components {

    /* ─── Sidebar Layout ─────────────────────── */
    .app-sidebar {
        width: var(--sidebar-width);
        @apply fixed top-0 left-0 h-full z-30 flex flex-col;
        background: linear-gradient(180deg, #0f172a 0%, #1a1040 100%);
        border-right: 1px solid rgba(99,102,241,0.15);
    }

    .app-main {
        margin-left: var(--sidebar-width);
        @apply flex flex-col min-h-screen;
    }

    .app-topbar {
        height: var(--topbar-height);
        @apply flex items-center justify-between px-6 border-b;
        background: rgba(15,23,42,0.8);
        backdrop-filter: blur(12px);
        border-color: rgba(99,102,241,0.1);
        position: sticky;
        top: 0;
        z-index: 20;
    }

    /* ─── Sidebar Nav Link ───────────────────── */
    .sidebar-link {
        @apply flex items-center gap-3 px-4 py-2.5 mx-3 rounded-lg text-sm font-medium;
        @apply text-slate-400 hover:text-white hover:bg-surface-800;
        transition: all 0.15s ease;
    }

    .sidebar-link.active {
        @apply text-white bg-brand-600/20;
        box-shadow: inset 3px 0 0 theme('colors.brand.500');
    }

    .sidebar-link .sidebar-icon {
        @apply w-4 h-4 flex-shrink-0;
    }

    /* ─── Cards ─────────────────────────────── */
    .card {
        @apply bg-surface-800 border border-surface-700 rounded-xl shadow-sm;
    }

    .card-hover {
        @apply card hover:border-brand-500/40 hover:shadow-glow-sm cursor-pointer;
        transition: all 0.2s ease;
    }

    /* ─── Stat Cards ─────────────────────────── */
    .stat-card {
        @apply card p-5 flex items-start justify-between;
    }

    .stat-card-value {
        @apply text-3xl font-bold text-white mt-1;
    }

    .stat-card-label {
        @apply text-xs font-semibold uppercase tracking-wider text-slate-400;
    }

    /* ─── Buttons ────────────────────────────── */
    .btn {
        @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-lg;
        @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-800;
        transition: all 0.15s ease;
    }

    .btn-primary {
        @apply btn text-white;
        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        @apply hover:shadow-glow-sm focus:ring-brand-500;
    }
    .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 20px rgba(99,102,241,0.4);
    }

    .btn-secondary {
        @apply btn text-slate-300 border border-surface-600 bg-surface-700;
        @apply hover:bg-surface-600 hover:text-white focus:ring-slate-500;
    }

    .btn-danger {
        @apply btn text-white bg-red-600 hover:bg-red-500 focus:ring-red-500;
    }

    .btn-ghost {
        @apply btn text-slate-400 hover:text-white hover:bg-surface-700;
    }

    /* ─── Form Inputs ────────────────────────── */
    .form-input {
        @apply w-full bg-surface-700 border border-surface-600 text-white placeholder-slate-500;
        @apply rounded-lg px-4 py-2.5 text-sm;
        @apply focus:outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500;
        transition: border-color 0.15s, box-shadow 0.15s;
    }
    .form-input:focus {
        box-shadow: 0 0 0 3px rgba(99,102,241,0.15);
    }

    .form-label {
        @apply block text-xs font-semibold uppercase tracking-wider text-slate-400 mb-1.5;
    }

    /* ─── Tables ─────────────────────────────── */
    .data-table {
        @apply w-full text-sm;
    }

    .data-table thead th {
        @apply px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider;
        @apply text-slate-400 border-b border-surface-700;
    }

    .data-table tbody tr {
        @apply border-b border-surface-700/60 hover:bg-surface-750/40;
        transition: background-color 0.1s;
    }

    .data-table tbody td {
        @apply px-4 py-3 text-slate-300;
    }

    /* ─── Badges ─────────────────────────────── */
    .badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold;
    }

    .badge-green {
        @apply badge bg-emerald-900/50 text-emerald-400 border border-emerald-700/50;
    }

    .badge-red {
        @apply badge bg-red-900/50 text-red-400 border border-red-700/50;
    }

    .badge-blue {
        @apply badge bg-brand-900/50 text-brand-300 border border-brand-700/50;
    }

    .badge-gray {
        @apply badge bg-surface-700 text-slate-400 border border-surface-600;
    }

    /* ─── Page Header ────────────────────────── */
    .page-header {
        @apply mb-6 flex items-center justify-between;
    }

    .page-title {
        @apply text-2xl font-bold text-white;
    }

    .page-subtitle {
        @apply text-sm text-slate-400 mt-0.5;
    }

    /* ─── Mail row ───────────────────────────── */
    .mail-row {
        @apply flex items-center gap-4 px-5 py-4 border-b border-surface-700/60;
        @apply hover:bg-surface-750/50 cursor-pointer;
        transition: background-color 0.1s;
    }

    .mail-row.unread {
        @apply bg-brand-600/5 border-l-2 border-l-brand-500;
    }

    .avatar-initials {
        @apply flex-shrink-0 w-9 h-9 rounded-full flex items-center justify-center;
        @apply text-xs font-bold text-white;
        background: linear-gradient(135deg, #4f46e5, #7c3aed);
    }

    /* ─── OTP Banner ─────────────────────────── */
    .otp-banner {
        @apply flex items-center justify-between p-5 rounded-xl mb-5;
        background: linear-gradient(135deg, rgba(16,185,129,0.1) 0%, rgba(5,150,105,0.1) 100%);
        border: 1px solid rgba(16,185,129,0.3);
    }

    /* ─── Guest (Auth) Layout ─────────────────── */
    .auth-panel-brand {
        background: linear-gradient(145deg, #1e1b4b 0%, #312e81 40%, #4f46e5 100%);
    }

    /* ─── Sidebar mobile overlay ─────────────── */
    @media (max-width: 768px) {
        .app-sidebar {
            transform: translateX(-100%);
        }
        .app-sidebar.open {
            transform: translateX(0);
        }
        .app-main {
            margin-left: 0;
        }
    }
}
